<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.meiah.entity.reportinfo.Winfo" table="WINFO">
             <id name="id" type="java.lang.Long">
	            <column name="ID" />
	            <generator class="native" />
	        </id>
       		<property name="userid" type="java.lang.Long">
           		 <column name="USERID" />
      		 </property>
	      	<property name="status" type="java.lang.Integer">
	            <column name="STATUS" />
	        </property>
            <property name="susr" type="java.lang.String">
                <column name="SUSR" length="50" />
            </property>
            <property name="sflag" type="java.lang.Long">
                <column name="SFLAG" />
            </property>
            <property name="rflag" type="java.lang.Long">
                <column name="RFLAG" />
            </property>
            <property name="stime" type="java.util.Date">
                <column name="STIME" length="23" />
            </property>
            <property name="sdanwei" type="java.lang.String">
                <column name="SDANWEI" length="30" />
            </property>
            <property name="rdanwei" type="java.lang.String">
                <column name="RDANWEI" length="30" />
            </property>
            <property name="fenlei" type="java.lang.String">
                <column name="FENLEI" length="30" />
            </property>
            <property name="kword" type="java.lang.String">
                <column name="KWORD" length="50" />
            </property>
            <property name="kwordsyi" type="java.lang.String">
                <column name="KWORDSYI" length="50" />
            </property>
            <property name="biaoti" type="java.lang.String">
                <column name="BIAOTI" length="1000" />
            </property>
            <property name="neirong" type="java.lang.String">
                <column name="NEIRONG" />
            </property>
            <property name="yuanbiaoti" type="java.lang.String">
                <column name="YUANBIAOTI" length="1000" />
            </property>
            <property name="yuzhong" type="java.lang.String">
                <column name="YUZHONG" length="30" />
            </property>
            <property name="siteurl" type="java.lang.String">
                <column name="SITEURL" length="1000" />
            </property>
            <property name="sitename" type="java.lang.String">
                <column name="SITENAME" length="500" />
            </property>
            <property name="sitedns" type="java.lang.String">
                <column name="SITEDNS" length="500" />
            </property>
            <property name="zuzhi" type="java.lang.String">
                <column name="ZUZHI" length="500" />
            </property>
            <property name="renyuan" type="java.lang.String">
                <column name="RENYUAN" length="500" />
            </property>
            <property name="bianji" type="java.lang.String">
                <column name="BIANJI" length="100" />
            </property>
            <property name="shenhe" type="java.lang.String">
                <column name="SHENHE" length="100" />
            </property>
            <property name="shenpi" type="java.lang.String">
                <column name="SHENPI" length="100" />
            </property>
            <property name="caiyong" type="java.lang.String">
                <column name="CAIYONG" length="30" />
            </property>
            <property name="pishi" type="java.lang.String">
                <column name="PISHI" length="500" />
            </property>
            <property name="beizhu" type="java.lang.String">
                <column name="BEIZHU" />
            </property>
            <property name="defen" type="java.lang.Double">
                <column name="DEFEN" precision="53" scale="0" />
            </property>
            <property name="huodongxingshi" type="java.lang.String">
                <column name="HUODONGXINGSHI" length="30" />
            </property>
            <property name="wulidiyu" type="java.lang.String">
                <column name="WULIDIYU" length="30" />
            </property>
            <property name="fenshu" type="java.lang.Long">
                <column name="FENSHU" />
            </property>
            <property name="attfile" type="java.lang.String">
                <column name="ATTFILE" length="2000" />
            </property>
            <property name="caiyonguser" type="java.lang.String">
                <column name="CAIYONGUSER" length="20" />
            </property>
            <property name="caiyongtime" type="java.util.Date">
                <column name="CAIYONGTIME" length="23" />
            </property>
            <property name="shifouziyi" type="java.lang.String">
                <column name="SHIFOUZIYI" length="64" />
            </property>
            <property name="personinfo" type="java.lang.String">
                <column name="PERSONINFO" length="200" />
            </property>
            <property name="diaocha" type="java.lang.String">
                <column name="DIAOCHA" length="10" />
            </property>
            <property name="xinxileixing" type="java.lang.String">
                <column name="XINXILEIXING" length="100" />
            </property>
            <property name="leixingjiafen" type="java.lang.Double">
                <column name="LEIXINGJIAFEN" precision="53" scale="0" />
            </property>
            <property name="winfoid" type="java.lang.String">
                <column name="WINFOID" length="20" />
            </property>
            <property name="iscommit" type="java.lang.Integer">
	            <column name="ISCOMMIT" />
	        </property>
	        <property name="committime" type="java.util.Date">
	            <column name="COMMITTIME" length="23" />
	        </property>
	         <property name="codeKey" type="java.lang.String">
            	<column name="code_key"/>
        	</property>
	         <property name="codeType" type="java.lang.String">
	            <column name="code_type"/>
	        </property>
	        <property name="attfileFlag" type="java.lang.Integer">
	            <column name="attfileFlag" />
	        </property>
    </class>
    <sql-query name="Winfo.getUnCommittedWInfo">
    	<return alias="rs" class="com.meiah.entity.reportinfo.Winfo" />
    	<![CDATA[
    		select top 50 * from WINFO where 1=1
			and ISCOMMIT = 0
			and STATUS=1
			order by STIME asc
    	]]>
    </sql-query>
    
    <sql-query name="Winfo.getUnCommittedInWInfo">
    	<return alias="rs" class="com.meiah.entity.reportinfo.Winfo" />
    	<![CDATA[
    		select top 50 * from WINFO where 1=1
			and issend=0
			order by STIME asc
    	]]>
    </sql-query>
    
     <sql-query name="Winfo.getStatInfo">
		<return-scalar column="status" type="java.lang.Integer" />
		<return-scalar column="countNum" type="java.lang.Long" />
		<![CDATA[
			select status,COUNT(1) countNum from winfo with(nolock)
			where 1=1
			#if($userid)
    			 AND userid=$userid
    		#end
    		#if($userid)
    			 AND userid=$userid
    		#end
    		#if($userid)
    			  AND userid=$userid
    		#end
    		#if($btime)
				 AND stime >= '$btime'
			#end
			#if($etime)
		   		 AND stime < DateAdd ("d" , 1 , '$etime')
		   	#end
			group by status
            order by status
		]]>
    </sql-query>
</hibernate-mapping>
