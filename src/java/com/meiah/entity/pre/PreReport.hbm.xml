<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.meiah.entity.pre.PreReport" table="pre_report">
        <id name="id" type="java.lang.Long">
            <column name="id"/>
            <generator class="native" />
        </id>
        <property name="operatorId" type="java.lang.Long">
            <column name="operatorId" />
        </property>
        <property name="isread" type="java.lang.Integer">
            <column name="isread" />
        </property>
        <property name="userId" type="java.lang.Long">
            <column name="userId"/>
        </property>
        <property name="time" type="java.util.Date">
            <column name="time"/>
        </property>
        <property name="title" type="java.lang.String">
            <column name="title"/>
        </property>
        <property name="url" type="java.lang.String">
            <column name="url"/>
        </property>
        <property name="publishTime" type="java.lang.String">
            <column name="publishTime"/>
        </property>
        <property name="remark" type="java.lang.String">
            <column name="remark"/>
        </property>
        <property name="content" type="java.lang.String">
            <column name="content"/>
        </property>
        <property name="attachmentId" type="java.lang.Long">
            <column name="attachmentId"/>
        </property>
        <property name="author" type="java.lang.String">
            <column name="author"/>
        </property>
        <property name="authorUrl" type="java.lang.String">
            <column name="authorURL"/>
        </property>
        <property name="ip" type="java.lang.String">
            <column name="IP"/>
        </property>
        <property name="topdomain" type="java.lang.String">
            <column name="topdomain"/>
        </property>
        <property name="comeFrom" type="java.lang.String">
            <column name="comeFrom"/>
        </property>
        <property name="lon" type="java.lang.Float">
            <column name="lon"/>
        </property>
        <property name="lat" type="java.lang.Float">
            <column name="lat"/>
        </property>
        <property name="category" type="java.lang.String">
            <column name="category"/>
        </property>
        <property name="address" type="java.lang.String">
            <column name="address" length="1000" />
        </property>
        <property name="ispush" type="java.lang.Integer">
            <column name="ispush" />
        </property>
        <property name="isreport" type="java.lang.Integer">
            <column name="isreport" />
        </property>
        <property name="username" type="java.lang.String">
            <column name="username"/>
        </property>
        
        <property name="codeKey" type="java.lang.String">
            <column name="code_key"/>
        </property>
         <property name="codeType" type="java.lang.String">
            <column name="code_type"/>
        </property>
         <property name="isSend" type="java.lang.Integer">
            <column name="issend" />
        </property>
        <property name="updateuserid" type="java.lang.Long">
            <column name="updateuserid" />
        </property>
        <property name="assessorid" type="java.lang.Long">
            <column name="assessorid" />
        </property>
     	<property name="approval" type="java.lang.String">
            <column name="approval" />
        </property>
        <property name="approvaluserid" type="java.lang.Long">
            <column name="approvaluserid" />
        </property> 
        <property name="updatetime" type="java.util.Date">
            <column name="updatetime" />
        </property>
        <property name="topFlag" type="java.lang.Integer">
            <column name="topflag" />
        </property>
         <property name="signuserid" type="java.lang.Long">
            <column name="signuserid" />
        </property>
        <property name="bsignuserid" type="java.lang.Long">
            <column name="bsignuserid" />
        </property>
        <property name="signcontent" type="java.lang.String">
            <column name="signcontent" />
        </property>
        
        <property name="signname" type="java.lang.String">
            <column name="signname" />
        </property>
        <property name="bsignname" type="java.lang.String">
            <column name="bsignname" />
        </property>
        
         <property name="views" type="java.lang.Long">
            <column name="views"/>
        </property>
         <property name="replies" type="java.lang.Long">
            <column name="replies"/>
        </property>
        
        <property name="wechat" type="java.lang.String">
            <column name="wechat" />
        </property>
        
        <property name="attfileFlag" type="java.lang.Integer">
            <column name="attfileFlag" />
        </property>
        <property name="cutImgFlag" type="java.lang.Integer">
            <column name="cutImgFlag" />
        </property>
        <property name="mould" type="java.lang.Integer">
            <column name="mould" />
        </property>
        <property name="realname" type="java.lang.String">
            <column name="realname" />
        </property>
        <property name="sex" type="java.lang.Integer">
            <column name="sex" />
        </property>
         <property name="age" type="java.lang.String">
            <column name="age" />
        </property>
         <property name="registed" type="java.lang.String">
            <column name="registed" />
        </property>
         <property name="tempAddress" type="java.lang.String">
            <column name="temp_address" />
        </property>
         <property name="phone" type="java.lang.String">
            <column name="phone" />
        </property>
        
        <property name="publishContent" type="java.lang.String">
            <column name="publish_content" />
        </property>
        
        <property name="suggest" type="java.lang.String">
            <column name="suggest" />
        </property>
        
        <property name="notice" type="java.lang.String">
           <column name="notice" />
        </property>
        
        <property name="month" type="java.lang.String">
           <column name="month" />
        </property>
        
         <property name="day" type="java.lang.String">
           <column name="day" />
        </property>
        
         <property name="hm" type="java.lang.String">
           <column name="hm" />
        </property>
        
        <property name="infofrom" type="java.lang.String">
           <column name="infofrom" />
        </property>
        
    </class>
      <sql-query name="PreReport.hasRepeatUrl">
    	<return alias="rs" class="com.meiah.entity.pre.PreReport" />
    	<![CDATA[
    		SELECT *  FROM pre_report WHERE userId IN (select  id from sys_user where groupid in (
					select g.id from sys_group as g where 
				 	g.code ='$code'
				 #if($flag)
				 	OR g.code like '$code'+'-%' 
				 #end
				 
			)) AND url='$url'
    	]]>
    </sql-query>
</hibernate-mapping>
